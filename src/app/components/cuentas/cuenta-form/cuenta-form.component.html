<div class="container mt-4">
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div class="card">
          <div class="card-header">
            <h3>{{ isEditMode ? 'Editar' : 'Nueva' }} Cuenta Bancaria</h3>
          </div>
          <div class="card-body">
            <div *ngIf="error" class="alert alert-danger">
              {{ error }}
            </div>
  
            <form [formGroup]="cuentaForm" (ngSubmit)="onSubmit()">
              <div class="mb-6">
                <label for="cbu" class="form-label">CBU *</label>
                <input 
                  type="text" 
                  class="mt-1 p-2 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-200 focus:ring-opacity-50" 
                  id="cbu" 
                  formControlName="cbu" 
                  placeholder="Ingrese el CBU"
                  [ngClass]="{ 'is-invalid': submitted && f['cbu'].errors }"
                >
                <div *ngIf="submitted && f['cbu'].errors" class="invalid-feedback">
                  <div *ngIf="f['cbu'].errors['required']">El CBU es obligatorio</div>
                  <div *ngIf="f['cbu'].errors['pattern']">El CBU debe tener 22 dígitos numéricos</div>
                </div>
              </div>
              
              <div class="mb-6">
                <label for="descripcion" class="form-label">Descripción *</label>
                <input 
                  type="text" 
                  class="mt-1 p-2 block w-full rounded-md border-secondary-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-200 focus:ring-opacity-50"
                  id="descripcion" 
                  formControlName="descripcion" 
                  placeholder="Ingrese una descripción"
                  [ngClass]="{ 'is-invalid': submitted && f['descripcion'].errors }"
                >
                <div *ngIf="submitted && f['descripcion'].errors" class="invalid-feedback">
                  <div *ngIf="f['descripcion'].errors['required']">La descripción es obligatoria</div>
                  <div *ngIf="f['descripcion'].errors['maxlength']">La descripción no puede tener más de 100 caracteres</div>
                </div>
              </div>
              
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" (click)="cancel()">Cancelar</button>
                <button type="submit" class="btn btn-primary" [disabled]="loading">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
                  {{ isEditMode ? 'Actualizar' : 'Guardar' }}
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
